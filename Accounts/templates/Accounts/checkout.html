{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElectroVerse | Checkout </title>
    <!--Custom CSS-->
    <link rel="stylesheet" href="{% static 'Accounts/css/checkout.css' %}">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="static.css">

    <!--HTMX-->
    <script src="https://unpkg.com/htmx.org@1.9.10" integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4">Checkout Page</h1>
        <!-- Display Final Price -->
        <div class="mb-3">
            <h4>Final Price: &#8377;{{Price}}</h4>
        </div>
        <!-- View Summary Anchor Tag -->
        <div class="mb-3">
            <a href="#" id="viewSummary">View Summary</a>
        </div>
    </div>

    <!-- Summary Panel -->
    <div class="summary-panel" id="summaryPanel">
        <h3>Summary <button class="btn btn-danger" id="closeSummary" style="float:right">Close</button></h3>
        
        <!-- Product List -->
        

        <div class="product-item">
            <img src="https://plus.unsplash.com/premium_photo-1672280727393-ab6f0b26f527?q=80&w=1389&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Product 1" class="product-img">
            <div class="product-details">
                <div class="name">Name:  Wrap</div>
                <div class="price">Price: $10</div>
                <div class="quantity">Quantity: 2</div>
            </div>
        </div>

        <div class="product-item">
            <img src="https://plus.unsplash.com/premium_photo-1672280727393-ab6f0b26f527?q=80&w=1389&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Product 1" class="product-img">
            <div class="product-details">
                <div class="name">Name:  Wrap</div>
                <div class="price">Price: $10</div>
                <div class="quantity">Quantity: 2</div>
            </div>
        </div>
        
        <!-- Add more product items as needed -->
        <button class="btn btn-danger" id="closeSummary">Close</button>
    </div>
 
    <div class="container">
        
        <div class="shadow-sm p-3 mb-5 bg-body-tertiary rounded Form_Container" id="unique_address">
            
            
            {% if address is None %}
            <h3 style="text-align: center;color: rgb(19, 18, 18);">No Address Found !!!</h3>
    
            <div class="d-grid gap-2 col-3 mx-auto">
                <button class="btn btn-primary" type="submit" hx-get="{% url 'Address_Edit' %}">Add</button>
            </div>
            {% else %}

        
                <h2 class="text-center mb-4">Shipping Address</h2>
                <div class="row justify-content-center">
                    {% for key, value in address.items %}
                    <div class="col-md-6">
                        <div class="card mb-4">
                            <div class="card-body">
                                <h5 class="card-title">{{ key }}</h5>
                                <p class="card-text">{{ value }}</p>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                
                
                <div class="d-grid gap-2 col-3 mx-auto">
                    
                    
                    <button class="btn btn-primary me-2" type="submit" hx-get="{% url 'Address_Edit' %}">Edit</button>
                    
                </div>
            </div>
                
            {% endif %}
                
            
                
            
                
            
    
                    
    
            
            
            
            
        
        </div>
    </div><br>


    <!-- Payment Options -->
    <div class="container mt-5">
        <h3>Payment Options</h3>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="paymentOption" id="codOption" value="cod" checked>
            <label class="form-check-label" for="codOption">
                Cash on Delivery (COD)
            </label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="paymentOption" id="upiOption" value="upi">
            <label class="form-check-label" for="upiOption">
                UPI (Unified Payment Interface)
            </label>
        </div>
    </div>


    <div class="btn-summary">

        <a href="#" class="btn-place">Place Order</a>

    </div>
    <!-- Bootstrap JS (Optional) - Needed for Bootstrap features like modal, carousel, etc.
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script> -->
    <script>
        // JavaScript to toggle summary panel
        document.getElementById("viewSummary").addEventListener("click", function(event){
            event.preventDefault();
            document.getElementById("summaryPanel").classList.add("show-summary");
        });

        document.getElementById("closeSummary").addEventListener("click", function(event){
            event.preventDefault();
            document.getElementById("summaryPanel").classList.remove("show-summary");
        });
    </script>
</body>
</html>
